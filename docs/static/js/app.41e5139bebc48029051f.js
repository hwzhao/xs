webpackJsonp([1],{21:function(t,e,s){"use strict";var a=s(8),r=s(92),i=s(85),n=s.n(i),o=s(87),c=s.n(o),u=s(86),l=s.n(u);a.a.use(r.a),e.a=new r.a({routes:[{path:"/",name:"Hello",component:n.a},{path:"/Search",name:"Search",component:c.a},{path:"/Info/:id",name:"Info",component:l.a}]})},23:function(t,e,s){s(81);var a=s(1)(s(42),s(91),null,null);t.exports=a.exports},41:function(t,e,s){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var a=s(22),r=s.n(a),i=s(8),n=s(23),o=s.n(n),c=s(21),u=s(20),l=s.n(u),v=s(9);i.a.use(v.a),i.a.filter("cover",function(t){return t.replace(/^\/agent\//,"")});var h=new v.a.Store({state:{searchList:[]},mutations:{setSearch:function(t,e){t.searchList=e,window.localStorage.setItem("searchList",r()(t.searchList))}}});i.a.directive("focus",{inserted:function(t){t.focus()}}),i.a.config.productionTip=!0,i.a.prototype.$http=l.a,new i.a({el:"#app",router:c.a,store:h,template:"<App/>",components:{App:o.a}})},42:function(t,e,s){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default={name:"app"}},43:function(t,e,s){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default={name:"hello",data:function(){return{msg:"Welcome to Your Vue.js App"}},created:function(){this.$http.get("https://xs.htmlbiji.com/index.php",{params:{url:"/book/auto-complete?query=%E5%B0%8F%E8%AF%B4"}})}}},44:function(t,e,s){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default={name:"info",data:function(){return{info:"图书详情"}},created:function(){var t=this;this.$http.get("https://xs.htmlbiji.com/index.php?url=/book/"+this.$route.params.id).then(function(e){t.info=e.data})}}},45:function(t,e,s){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var a=s(47),r=s.n(a),i=s(9);e.default={name:"search",data:function(){return{query:"",books:[],keywords:[],autoQuert:"",type:0,bColor:["#178df1","#df1717","#36b54e","#febc2a","#fd5d23","#839eb1"]}},computed:r()({},s.i(i.b)({searchList:function(t){return t.searchList}})),methods:{del:function(t){var e=this.searchList;e.splice(t,1),this.$store.commit("setSearch",e)},clear:function(){this.$store.commit("setSearch",[])},search:function(){if(this.query=this.query.replace(/(^\s*)|(\s*$)/g,""),""===this.query)return"";var t=this;this.type=2,this.$http.get("https://xs.htmlbiji.com/index.php",{params:{url:"/book/fuzzy-search/?query="+encodeURI(this.query)+"&start=0&limit=10"}}).then(function(e){if(t.books=e.data.books,-1===t.searchList.indexOf(t.query)){var s=t.searchList;s.push(t.query),t.$store.commit("setSearch",s)}t.type=3}),this.keywords=""},autoClick:function(t){this.autoQuert=t,this.query=t,this.search()}},watch:{query:function(t){if(t=t.replace(/(^\s*)|(\s*$)/g,""),this.books="",t.length&&this.autoQuert!==this.query){var e=this;this.type=1,this.$http.get("https://xs.htmlbiji.com/index.php",{params:{url:"/book/auto-complete?query="+encodeURI(this.query)}}).then(function(t){e.keywords=t.data.keywords})}}},created:function(){null===window.localStorage.getItem("searchList")&&window.localStorage.setItem("searchList","[]"),this.$store.commit("setSearch",JSON.parse(window.localStorage.getItem("searchList")))}}},78:function(t,e){},79:function(t,e){},80:function(t,e){},81:function(t,e){},85:function(t,e,s){s(79);var a=s(1)(s(43),s(89),"data-v-5830c0ba",null);t.exports=a.exports},86:function(t,e,s){s(80);var a=s(1)(s(44),s(90),"data-v-6df55014",null);t.exports=a.exports},87:function(t,e,s){s(78);var a=s(1)(s(45),s(88),"data-v-3b43c020",null);t.exports=a.exports},88:function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"xs-search-view"},[s("header",{staticClass:"xs-search after-boeder"},[s("a",{staticClass:"xs-icon xs-icon-back",on:{click:function(e){t.$router.back()}}}),t._v(" "),s("form",{staticClass:"search-form",on:{submit:function(e){e.preventDefault(),t.search(e)}}},[s("div",{staticClass:"search-box"},[s("i",{staticClass:"xs-icon xs-icon-search"}),t._v(" "),s("input",{directives:[{name:"focus",rawName:"v-focus"},{name:"model",rawName:"v-model",value:t.query,expression:"query"}],staticClass:"search-input",attrs:{type:"text",name:"query",placeholder:"搜索图书或作者"},domProps:{value:t.query},on:{input:function(e){e.target.composing||(t.query=e.target.value)}}}),t._v(" "),""!=t.query?s("i",{staticClass:"xs-icon xs-icon-close",on:{click:function(e){t.query="",t.type=0}}}):t._e()])]),t._v(" "),s("a",{staticClass:"search-submit",class:{active:t.query.length},attrs:{name:"button"},on:{click:t.search}},[t._v("搜索")])]),t._v(" "),s("div",{directives:[{name:"show",rawName:"v-show",value:0===t.type,expression:"type === 0"}],staticClass:"history"},[t.searchList.length>0?s("div",{staticClass:"header"},[t._v("\n      搜索历史\n      "),s("span",{on:{click:t.clear}},[t._v("清空")])]):t._e(),t._v(" "),t.searchList.length>0?s("ul",{},t._l(t.searchList,function(e,a){return s("li",{style:{"background-color":t.bColor[a]},on:{click:function(s){t.autoClick(e)}}},[t._v("\n        "+t._s(e)+"\n        "),s("i",{staticClass:"xs-icon xs-icon-close",on:{click:function(e){e.stopPropagation(),t.del(a)}}})])})):t._e(),t._v(" "),0==t.searchList.length?s("div",{},[t._v("\n      赶快搜索好书来看吧\n    ")]):t._e()]),t._v(" "),s("ul",{directives:[{name:"show",rawName:"v-show",value:1===t.type,expression:"type === 1"}],staticClass:"auto after-boeder"},t._l(t.keywords,function(e){return s("li",{staticClass:"after-boeder",on:{click:function(s){t.autoClick(e)}}},[t._v(t._s(e))])})),t._v(" "),2===t.type?s("div",{},[t._v("\n    搜索中。。。。\n  ")]):t._e(),t._v(" "),s("ul",{directives:[{name:"show",rawName:"v-show",value:3==t.type,expression:"type== 3"}],staticClass:"books after-boeder"},t._l(t.books,function(e){return t.books.length>0?s("li",{staticClass:"after-boeder",on:{click:function(s){t.$router.push("/Info/"+e._id)}}},[s("img",{attrs:{src:t._f("cover")(e.cover),alt:""}}),t._v(" "),s("div",{},[s("span",{staticClass:"title"},[t._v(t._s(e.title))]),t._v(" "),s("p",[t._v("\n          "+t._s(e.author)+"\n        ")])])]):t._e()})),t._v(" "),3===t.type&&0==t.books.length?s("div",{},[t._v("\n    我擦，找不到哎╮(╯▽╰)╭\n  ")]):t._e()])},staticRenderFns:[]}},89:function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"hello"},[s("h1",[t._v(t._s(t.msg))]),t._v(" "),s("h2",[t._v("Essential Links")]),t._v(" "),t._m(0),t._v(" "),s("h2",[t._v("Ecosystem")]),t._v(" "),t._m(1)])},staticRenderFns:[function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("ul",[s("li",[s("a",{attrs:{href:"https://vuejs.org",target:"_blank"}},[t._v("Core Docs")])]),t._v(" "),s("li",[s("a",{attrs:{href:"https://forum.vuejs.org",target:"_blank"}},[t._v("Forum")])]),t._v(" "),s("li",[s("a",{attrs:{href:"https://gitter.im/vuejs/vue",target:"_blank"}},[t._v("Gitter Chat")])]),t._v(" "),s("li",[s("a",{attrs:{href:"https://twitter.com/vuejs",target:"_blank"}},[t._v("Twitter")])]),t._v(" "),s("br"),t._v(" "),s("li",[s("a",{attrs:{href:"http://vuejs-templates.github.io/webpack/",target:"_blank"}},[t._v("Docs for This Template")])])])},function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("ul",[s("li",[s("a",{attrs:{href:"http://router.vuejs.org/",target:"_blank"}},[t._v("vue-router")])]),t._v(" "),s("li",[s("a",{attrs:{href:"http://vuex.vuejs.org/",target:"_blank"}},[t._v("vuex")])]),t._v(" "),s("li",[s("a",{attrs:{href:"http://vue-loader.vuejs.org/",target:"_blank"}},[t._v("vue-loader")])]),t._v(" "),s("li",[s("a",{attrs:{href:"https://github.com/vuejs/awesome-vue",target:"_blank"}},[t._v("awesome-vue")])])])}]}},90:function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"info"},[s("header",{staticClass:"header after-boeder"},[s("a",{staticClass:"xs-icon xs-icon-back",on:{click:function(e){t.$router.back()}}}),t._v(" "),s("span",[t._v("图书详情")])]),t._v(" "),s("div",{staticClass:"content"},[s("div",{staticClass:"basic"},[s("img",{attrs:{src:t._f("cover")(t.info.cover),alt:""}}),t._v(" "),s("div",{staticClass:"basic-info"},[s("span",{staticClass:"title"},[t._v(t._s(t.info.title))]),t._v(" "),s("span",{staticClass:"author"},[t._v("作者："+t._s(t.info.author))]),t._v(" "),s("span",{staticClass:"word"},[t._v("字数："+t._s(t.info.wordCount)+"   "+t._s(t.info.isSerial?"连载中":"已完结"))]),t._v(" "),s("span",{staticClass:"cate"},[t._v(t._s(t.info.majorCate)+"/ "+t._s(t.info.minorCate))])])]),t._v(" "),t._m(0),t._v(" "),s("div",{staticClass:"intro"},[t._v("\n\t  \t"+t._s(t.info.longIntro)+"\n\t  ")]),t._v(" "),s("div",{staticClass:"update"},[t._v("\n\t\t  "+t._s(t.info.updated)+"更新"+t._s(t.info.lastChapter)+"\n\t  ")])]),t._v(" "),t._m(1)])},staticRenderFns:[function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"action"},[s("div",{},[s("a",{attrs:{href:"#"}},[t._v("分享")])]),t._v(" "),s("div",{},[s("a",{attrs:{href:"#"}},[t._v("目录")])])])},function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"footer before-border"},[s("div",{staticClass:"footer-item"},[s("a",{staticClass:"xs-btn"},[t._v("加入书架")])]),t._v(" "),s("div",{staticClass:"footer-item"},[s("a",{staticClass:"xs-btn"},[t._v("开始阅读")])])])}]}},91:function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{attrs:{id:"app"}},[s("router-view")],1)},staticRenderFns:[]}}},[41]);
//# sourceMappingURL=app.41e5139bebc48029051f.js.map